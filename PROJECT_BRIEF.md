# YupSoul — контекст проекта

## Что это
Telegram Mini App + бот. **Не гороскоп** — **«цифровой мифотворец»**: ИИ по данным рождения выявляет архетипы/силу/тень/миссию и создаёт **песню-зеркало** (звуковой ключ) — герой поёт голосом, похожим на твой. Эффект: узнавание, тишина внутри, смещение точки сборки. Пользователь получает **только готовое аудио в боте** — без текста песни и без копирования промтов в Suno. Администратор видит все заявки и отправляет пользователям аудиофайлы через бота.

**Терминология (финальные решения из диалога с Qwen):**
- «Световой узор души» — везде вместо «договор» / «натальная карта». Слова «натальная карта» в интерфейсе **не использовать**.
- «Расшифровка узора» — вместо «анализ» (акцент на открытии, а не на разборе).
- «Звуковой ключ» — персональная песня-активация (аудио), которую клиент получает уже готовым файлом.
- «Твоя жизнь — игра» — основной слоган в текущем Mini App (игровая рамка).

---

## Роли
- **Пользователь:** Mini App → форма (данные рождения, запрос) → оплата (Stars или карта) → ожидает файл → получает аудио от бота.
- **Администратор (ты):** видишь все заявки; отправляешь пользователям аудиофайлы через бота.

---

## Продукты и цены (из диалога с Qwen)

| Продукт | Цена | Описание |
|--------|------|----------|
| Превью | бесплатно | 3–4 предложения о потенциале |
| Полный разбор + песня (один человек) | **490 ⭐ / 490₽** | Световой узор души + звуковой ключ |
| Совместимость + песня для двоих | **890 ⭐ / 890₽** | Узор соединения, анализ двух карт |
| Вопрос своему узору души | **290 ⭐ / 290₽** | Один вопрос, развёрнутый ответ по карте |
| YupSoul Pro (неделя) | 1290 ⭐ / 1290₽ | 3 разбора, 1 совместимость, 5 вопросов |
| YupSoul Pro (месяц) | 2990 ⭐ / 2990₽ | Безлимит разборов и вопросов |

Текущий Mini App (index.html) — упрощённая версия: одна форма, одна цена 490₽. Расширение (совместимость, вопрос узору, подписки) — в планах.

---

## Функционал (целевой)

1. **Форма** — данные сохраняются и привязываются к пользователю (Telegram `user_id` из Mini App). Поля: имя, дата/место/время рождения, пол, запрос. В перспективе: карта мира, ручной ввод координат, выбор типа (одиночный / совместимость).
2. **Оплата** — Telegram Stars **и** оплата русской картой (ЮКасса) со старта. В Mini App — «в тон» с потоком (в том же приложении).
3. **Админ** — видит все заявки (список / чат с ботом / простая админ-панель).
4. **Выдача** — админ через бота отправляет аудиофайл конкретному пользователю; пользователь получает его в Telegram.

---

## Бэкенд и API (из диалога с Qwen)

- **DeepSeek API** — анализ «светового узора» + генерация текста песни и промта для Suno. Текст расшифровки выдаётся только после оплаты (премиум).
- **Suno API** (или ручная генерация) — создание аудио из текста песни. У администратора API уже есть; важно, чтобы цепочка «заявка → анализ → песня → аудио» в итоге приводила к отправке файла пользователю через бота.
- **Бот** — приём заявок из Mini App (например через `sendData` или вебхук), сохранение заявок, уведомление админа; по команде/действию админа — отправка файла пользователю.

---

## Стек (текущий)

- **Frontend:** один `index.html` (Mini App) на GitHub Pages.
- **Бот:** пока не реализован (нужен бот на Node.js или Python, сервер или serverless).
- **Оплата:** Stars и ЮКасса — в планах; в коде пока заглушка.
- **Контекст из диалога:** полный промт для астролога-поэта (этапы 1–3: анализ души, целевой анализ, создание песни), шаблоны для Suno — в чате с Qwen; при реализации бота их нужно подключать.

---

## Кульминация и смена решений (конец диалога с Qwen)

**Финальный выбор по продукту и позиционированию:**

1. **Мини-апп — красота не жертвуется.**  
   Решение: «сделай по красоте — это наш последний шанс». Разница между «простым кодом» и красивым интерфейсом — огромная: доверие, конверсия, готовность платить. Мини-апп — главный продавец; не упрощать до «простого кода».

2. **Бот — простой и надёжный.**  
   Только приём данных из Mini App и отправка результата (аудио) пользователю. Без лишних функций в чате.

3. **MVP = один красивый `index.html` + минимальный бот.**  
   От сложного ТЗ (React, карта мира, совместимость, «вопрос узору») перешли к запуску: одна форма, одна цена 490₽, 5 страниц (главная → форма → оплата → загрузка → успех), один файл. Расширения — после первых пользователей.

4. **Клиент не получает текст песни** — только **готовое аудио в боте**. Никакого «скопируй промт в Suno» в финальном продукте — только магия «получил файл».

5. **Позиционирование в интерфейсе:**  
   «Твоя жизнь — игра», «Отправь запрос во Вселенную», «звуковой ключ» — именно так в текущем Mini App. Концепция «световой узор души» и «расшифровка узора» — для текстов бота и будущих экранов; в текущем index.html уже используется игровая рамка.

**В коде:** в блоке оплаты до сих пор может быть формулировка «под твою натальную карту» — везде заменить на «световой узор» / «твои данные» и т.п., без слова «натальная карта».

---

## Заметки

- Правки для сайта вносить **только в `public/index.html`** — это единственная версия приложения (деплой идёт из папки `public/`).
- Исходный диалог с Qwen: `Downloads/chat-Создание Telegram бота без опыта кодирования.txt` — там полное ТЗ Mini App, цены, оплата Stars/ЮКасса, карта мира, совместимость, «вопрос узору».
- **Полный чек-лист по 5 этапам:** `docs/CHECKLIST_5_STAGES.md` — Этап 1 (Telegram‑бот MVP), Этап 2 (реальный пайплайн генерации), Этап 3 (веб‑сайт), Этап 4 (админка), Этап 5 (реферальная система). Первые два этапа перенесены из Desktop/чек лист.rtf.
- **Roadmap и задачи:** `docs/ROADMAP_TASKS.md` — рефералка (одноуровневая), интеграция в UX, meta‑задачи (логи, трейсинг, миграции, документация).
- **Энциклопедия промптов:** `docs/PROMPTS_ENCYCLOPEDIA.md` — база из 10 типов промптов (базовый алгоритм, финансовый поток, Suno-стандарт, транзиты, сила личности, лёгкая/глубокая/победная версии, вокал, экспериментальный) + шаблон для быстрого создания. Сейчас для контекста; в дальнейшем — для добавления разных функций в боте (разные продукты под разные промты).

---
*Этот файл используется как контекст проекта для доработок.*
