# Чек-лист: Telegram Mini App (YupSoul)

Проверка проекта на соответствие требованиям и лучшим практикам Telegram Mini Apps.

---

## 1. Подключение и инициализация Web App API

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Подключён скрипт `telegram-web-app.js` | ✅ | В корневом `index.html`: `https://telegram.org/js/telegram-web-app.js` |
| Вызван `tg.ready()` | ✅ | При запуске в Telegram |
| Режим на весь экран | ✅ | `tg.expand()` |
| Подтверждение при закрытии | ✅ | `tg.enableClosingConfirmation()` |
| Учёт темы Telegram | ✅ | `body` использует `--tg-theme-bg-color` и `--tg-theme-text-color` (с fallback) |

---

## 2. Разметка и адаптивность

| Пункт | Статус | Примечание |
|-------|--------|------------|
| `viewport` с учётом мобильных | ✅ | `width=device-width, maximum-scale=1.0, user-scalable=no` |
| `lang` у `<html>` | ✅ | `lang="ru"` |
| Адаптивная вёрстка | ✅ | Есть `@media (max-width:480px)` |
| Контейнер с ограничением ширины | ✅ | `max-width: 600px` |

---

## 3. Поведение вне Telegram

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Определение запуска в Telegram | ✅ | `window.Telegram && window.Telegram.WebApp` |
| Режим превью в браузере | ✅ | Панель навигации по страницам показывается только вне Telegram |

---

## 4. Форма и валидация

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Валидация на клиенте | ✅ | Имя, дата, место, время, пол, запрос |
| Ограничение даты рождения | ✅ | min/max (до 100 лет назад — сегодня) |
| Опция «Не знаю время» | ✅ | Чекбокс снимает обязательность времени |

---

## 5. Деплой и инфраструктура

| Пункт | Статус | Примечание |
|-------|--------|------------|
| HTTPS | ✅ | GitHub Pages по умолчанию с HTTPS |
| GitHub Actions для деплоя | ✅ | `.github/workflows/deploy-pages.yml` на push в `main` |
| Артефакт для Pages | ✅ | `path: .` — деплоится корень (используется корневой `index.html`) |
| `.nojekyll` | ✅ | Есть, чтобы не применять Jekyll |

---

## 6. Документация

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Инструкция по настройке бота | ✅ | `TELEGRAM_SETUP.md` (Menu Button, прямая ссылка) |
| Описание сделанного в коде | ✅ | В `TELEGRAM_SETUP.md` в конце |

---

## 7. Безопасность и данные

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Валидация `initData` на бэкенде | ❌ | Нет бэкенда; при появлении API нужно проверять подпись `initData` |
| Нет хранения чувствительных данных в коде | ✅ | Токены и секреты не в репозитории |
| `.gitignore` для секретов | ✅ | `.env`, `*.log` и др. |

---

## 8. Согласованность файлов

| Пункт | Статус | Примечание |
|-------|--------|------------|
| Корневой `index.html` — полная версия для Mini App | ✅ | Скрипт Telegram + инициализация |
| `public/index.html` | ⚠️ | Нет скрипта Telegram и инициализации Web App; при деплое с `path: .` не используется, но файлы расходятся |

---

## Итог

- **Соответствует:** подключение Web App, viewport, адаптив, превью в браузере, валидация формы, деплой на HTTPS, документация, базовая безопасность.
- **Рекомендации:**
  1. При появлении бэкенда — проверять `initData` (подпись) для запросов от имени пользователя.
  2. Либо синхронизировать `public/index.html` с корневым `index.html`, либо явно указать в README, что для Mini App используется только корневой `index.html` (деплой идёт из корня).
