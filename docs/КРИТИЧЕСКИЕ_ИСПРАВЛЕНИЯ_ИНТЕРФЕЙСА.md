# üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –ò–ù–¢–ï–†–§–ï–ô–°–ê –ò –û–ü–õ–ê–¢–´

## üö® –ö–û–†–ù–ï–í–ê–Ø –ü–†–ò–ß–ò–ù–ê –í–°–ï–• –ü–†–û–ë–õ–ï–ú
**–ü–µ—Ä–µ–≤–æ–¥—á–∏–∫ –∑–∞—Ç—Ä–æ–Ω—É–ª –Ω–µ —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –Ω–æ –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã.** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤ –±—ã–ª–æ –∑–∞—à–∏—Ç–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –∏ –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏–ª–æ—Å—å —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É `t()`.

---

## üîß –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ë–ê–ì–ò

### 1. **–õ–æ–≥–∏–∫–∞ –æ–ø–ª–∞—Ç—ã HOT Pay**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** `prompt('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:', lastCheckoutUrl)` - –∑–∞—à–∏—Ç—ã–π —Ä—É—Å—Å–∫–∏–π —Ç–µ–∫—Å—Ç
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ `prompt(t('copyLinkPrompt'), lastCheckoutUrl)`
- **üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å prompt –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –≤—Å–µ —è–∑—ã–∫–∏

### 2. **–°–æ–æ–±—â–µ–Ω–∏—è –í—Å–µ–ª–µ–Ω–Ω–æ–π**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞—à–∏—Ç—ã–µ —Ç–µ–∫—Å—Ç—ã –≤ —Å—Ç—Ä–æ–∫–∞—Ö 2037-2039 –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏–ª–∏—Å—å:
  ```javascript
  sp.textContent = '‚ú® ' + name1 + ', –í—Å–µ–ª–µ–Ω–Ω–∞—è —É—Å–ª—ã—à–∞–ª–∞ —Ç–≤–æ–π –∑–∞–ø—Ä–æ—Å.\n\n–¢–≤–æ–π –∑–≤—É–∫–æ–≤–æ–π –∫–ª—é—á —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è. –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –æ–Ω –ø—Ä–∏–¥—ë—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç.';
  ```
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏:
  ```javascript
  if (mode === 'single') sp.textContent = t('universeHeard', { name: name1 });
  else if (mode === 'couple') sp.textContent = t('universeHeardCouple', { name: name1, name2: payload.person2.name });
  else sp.textContent = t('universeHeardTransit', { name: name1 });
  ```

### 3. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≥–µ—Ä–æ–µ–≤**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏, –æ—à–∏–±–æ–∫ –∏ —Å–µ–ª–µ–∫—Ç—ã –±—ã–ª–∏ –∑–∞—à–∏—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
  - `'–ó–∞–≥—Ä—É–∑–∫–∞...'` ‚Üí `t('heroesLoading')`
  - `'–ü–æ–∫–∞ –Ω–µ—Ç –≥–µ—Ä–æ–µ–≤. –ù–∞–∂–º–∏ ¬´–î–æ–±–∞–≤–∏—Ç—å –≥–µ—Ä–æ—è¬ª.'` ‚Üí `t('heroesEmpty')`
  - `'–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É API.'` ‚Üí `t('heroesLoadError')`
  - `'–î–ª—è —Å–µ–±—è'` ‚Üí `t('forMyself')`

### 4. **–°–µ–ª–µ–∫—Ç—ã –∏ –æ–ø—Ü–∏–∏**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ `<option>` —ç–ª–µ–º–µ–Ω—Ç—ã –≤ HTML –±—ã–ª–∏ –∑–∞—à–∏—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã –≤ `applyTranslations()` –¥–ª—è –≤—Å–µ—Ö —Å–µ–ª–µ–∫—Ç–æ–≤:
  ```javascript
  var heroGender = document.getElementById('heroGender'); if (heroGender) {
    var hOpts = heroGender.querySelectorAll('option'); 
    if (hOpts[0]) hOpts[0].textContent = t('genderSelect');
    if (hOpts[1]) hOpts[1].textContent = t('male'); 
    if (hOpts[2]) hOpts[2].textContent = t('female');
    var hO3 = heroGender.querySelector('option[value="other"]'); 
    if (hO3) hO3.textContent = t('other');
  }
  ```

### 5. **–ö–Ω–æ–ø–∫–∏ –ø—Ä–µ–≤—å—é-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∏ "–ì–ª–∞–≤–Ω–∞—è", "–§–æ—Ä–º–∞", "–û–ø–ª–∞—Ç–∞" –∏ –¥—Ä. –Ω–µ –ø–µ—Ä–µ–≤–æ–¥–∏–ª–∏—Å—å
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã `previewHome`, `previewForm`, `previewPayment`, `previewLoading`, `previewSuccess`

### 6. **–ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–æ–≤**
- **‚ùå –ü—Ä–æ–±–ª–µ–º–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–µ–º–µ—Ü–∫–æ–≥–æ –∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- **‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ DE –∏ FR –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
  ```html
  <span id="langRu" style="cursor:pointer;padding:2px 6px;border-radius:4px;">RU</span>
  <span style="opacity:0.5;">|</span>
  <span id="langEn" style="cursor:pointer;padding:2px 6px;border-radius:4px;">EN</span>
  <span style="opacity:0.5;">|</span>
  <span id="langDe" style="cursor:pointer;padding:2px 6px;border-radius:4px;">DE</span>
  <span style="opacity:0.5;">|</span>
  <span id="langFr" style="cursor:pointer;padding:2px 6px;border-radius:4px;">FR</span>
  ```

---

## üåê –î–û–ë–ê–í–õ–ï–ù–û 20+ –ù–û–í–´–• –ü–ï–†–ï–í–û–î–û–í

–î–ª—è **—Ä—É—Å—Å–∫–æ–≥–æ**, **–∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ**, **–Ω–µ–º–µ—Ü–∫–æ–≥–æ** –∏ **—Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ** —è–∑—ã–∫–æ–≤:

### –ù–æ–≤—ã–µ –∫–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
- `copyLinkPrompt` - —Ç–µ–∫—Å—Ç –¥–ª—è prompt –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Å—ã–ª–∫–∏ –æ–ø–ª–∞—Ç—ã
- `songFormingText` - —Ç–µ–∫—Å—Ç –æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–≤—É–∫–æ–≤–æ–≥–æ –∫–ª—é—á–∞
- `heroesLoading` - "–ó–∞–≥—Ä—É–∑–∫–∞..." –¥–ª—è —Å–ø–∏—Å–∫–∞ –≥–µ—Ä–æ–µ–≤
- `heroesEmpty` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—É—Å—Ç–æ–º —Å–ø–∏—Å–∫–µ –≥–µ—Ä–æ–µ–≤
- `heroesLoadError` - –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ –≥–µ—Ä–æ–µ–≤
- `forMyself` - "–î–ª—è —Å–µ–±—è" –≤ —Å–µ–ª–µ–∫—Ç–µ –≥–µ—Ä–æ–µ–≤
- `forHero` - "–î–ª—è: {name}" –≤ —Å–µ–ª–µ–∫—Ç–µ –≥–µ—Ä–æ–µ–≤
- `previewHome`, `previewForm`, `previewPayment`, `previewLoading`, `previewSuccess` - –∫–Ω–æ–ø–∫–∏ –ø—Ä–µ–≤—å—é-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
```javascript
// –†—É—Å—Å–∫–∏–π
copyLinkPrompt: '–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç—É —Å—Å—ã–ª–∫—É –∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:',
songFormingText: '–¢–≤–æ–π –∑–≤—É–∫–æ–≤–æ–π –∫–ª—é—á —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è. –ß–µ—Ä–µ–∑ 2‚Äì3 –º–∏–Ω—É—Ç—ã –æ–Ω –ø—Ä–∏–¥—ë—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç.',

// –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
copyLinkPrompt: 'Copy this link and open it in browser:',
songFormingText: 'Your sound key is being created. It will arrive in this chat in 2‚Äì3 minutes.',

// –ù–µ–º–µ—Ü–∫–∏–π
copyLinkPrompt: 'Kopiere diesen Link und √∂ffne ihn im Browser:',
songFormingText: 'Dein Klangschl√ºssel wird erstellt. In 2‚Äì3 Minuten kommt er in diesen Chat.',

// –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
copyLinkPrompt: 'Copie ce lien et ouvre-le dans le navigateur:',
songFormingText: 'Ta cl√© sonore est en cours de cr√©ation. Elle arrivera dans ce chat dans 2‚Äì3 minutes.'
```

---

## ‚úÖ –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–û

### –ß—Ç–æ –ù–ï –∑–∞—Ç—Ä–æ–Ω—É—Ç–æ:
- **‚úÖ –õ–æ–≥–∏–∫–∞ API –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç–∞** - –≤—Å–µ –ø—É—Ç–∏ –∫ `/api/` endpoints –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- **‚úÖ HOT Pay –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç** - —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç—ã –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã  
- **‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —É—Å–∏–ª–µ–Ω–∞** - –¥–æ–±–∞–≤–ª–µ–Ω—ã fallback'–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- **‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã**

### –ß—Ç–æ –ò–°–ü–†–ê–í–õ–ï–ù–û:
- **üî• –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã HOT Pay —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö**
- **üåê –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏**
- **üéØ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–µ–º–µ—Ü–∫–æ–≥–æ –∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤**
- **üí™ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ race conditions —Å —Ç–µ–∫—Å—Ç–æ–º –∫–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã**

---

## üöÄ –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### –£—Å–∏–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:
```javascript
function t(k, vars) {
  // –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤
  if (!LANG[currentLang]) {
    console.warn('[i18n] –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —è–∑—ã–∫:', currentLang, '- –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Å—å –Ω–∞ —Ä—É—Å—Å–∫–∏–π');
    currentLang = 'ru';
    try { localStorage.setItem(LANG_STORAGE_KEY, 'ru'); } catch (_) {}
  }
  var s = (LANG[currentLang] && LANG[currentLang][k]) || (LANG.ru && LANG.ru[k]) || k;
  if (vars && typeof s === 'string') {
    Object.keys(vars).forEach(function(key) { 
      s = s.replace(new RegExp('\\{' + key + '\\}', 'g'), vars[key]); 
    });
  }
  return s;
}
```

### –§—É–Ω–∫—Ü–∏—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–∫–∏ –æ–ø–ª–∞—Ç—ã:
```javascript
function ensurePayButtonText() {
  var payBtn = document.getElementById('payBtn');
  if (payBtn && !payBtn.disabled) {
    payBtn.textContent = t('payWithHot');
  }
}
```

---

## üìà –†–ï–ó–£–õ–¨–¢–ê–¢

**üéâ –í–°–ï –ü–†–û–ë–õ–ï–ú–´ –£–°–¢–†–ê–ù–ï–ù–´:**
- –ö–Ω–æ–ø–∫–∞ –æ–ø–ª–∞—Ç—ã HOT Pay —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è
- –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–Ω–æ–ø–∫–∏ –¥–ª—è DE –∏ FR
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –∑–∞—à–∏—Ç—ã–µ —Ä—É—Å—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã
- –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π

**üî• –¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ–µ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ!**