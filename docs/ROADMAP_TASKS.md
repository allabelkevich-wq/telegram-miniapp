# Roadmap и задачи YupSoul

## Реферальная система (простая, одноуровневая)

- [ ] **Таблица referrals**  
  Добавить таблицу `referrals` (структура описана в vision).

- [ ] **Реферальный код/ссылка**  
  Для каждого пользователя генерировать персональный реферальный код и ссылку.

- [ ] **В Telegram и на сайте**
  - [ ] Показывать пользователю его персональный реферальный код.
  - [ ] Принимать реферальный код при регистрации / первом онбординге.

- [ ] **Привязка к рефереру**
  - [ ] Привязывать новых пользователей к тому, кто их пригласил.
  - [ ] Привязывать оплаты приглашённых к записям в `referrals`.

- [ ] **Бонусы**
  - [ ] Начислять бонусы (скидка или бесплатный трек) за успешные оплаты приглашённых.

---

## Интеграция с основным UX

- [ ] **Статистика для пользователя**
  - [ ] Показывать, сколько человек пользователь привёл.
  - [ ] Показывать, какие бонусы он получил.

- [ ] **Раздел «Рефералы»**
  - [ ] Добавить отдельный раздел или команду «Рефералы» в Telegram.
  - [ ] Добавить раздел «Рефералы» на сайте (Mini App).

---

## Meta‑задачи для развития

- [ ] **Мониторинг и логирование**
  - [ ] Настроить логи воркера.
  - [ ] Логировать ошибки интеграций.

- [ ] **Трейсинг пайплайна**
  - [ ] Ввести идентификатор запроса / track‑ID.
  - [ ] Трейсить ключевые шаги пайплайна (заявка → оплата → генерация → выдача).

- [ ] **Данные и схема БД**
  - [ ] Продумать миграции данных.
  - [ ] Версионирование схемы БД.

- [ ] **Документация для разработчиков**
  - [ ] README с запуском и окружением.
  - [ ] Диаграммы (архитектура, поток данных).
  - [ ] Примеры запросов (API / бот).

---

*При реализации отмечать чекбоксы и при необходимости дробить пункты на подзадачи.*
