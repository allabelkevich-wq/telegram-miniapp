# Как обновить приложение, которое открывается в боте

Mini App в Telegram открывается по ссылке **GitHub Pages**. То, что ты видишь в боте, — это **не** локальные файлы, а то, что развёрнуто на GitHub.

---

## Почему в боте старая версия (например кнопка «Забота»)

- В **репозитории на GitHub** на ветке `main` в папке **`public/`** лежит старая версия `index.html`.
- Деплой идёт **только из папки `public/`** (см. `.github/workflows/deploy-pages.yml`).
- Пока ты не отправишь (push) актуальные файлы в GitHub, на сайте будет старая версия, и в боте тоже.

---

## Что сделать, чтобы в боте была новая версия (без «Забота» и т.п.)

1. **Убедись, что локально приложение уже без «Забота»**  
   Единственная версия приложения — **`public/index.html`** (редактируй только его).

2. **Закоммить и отправить изменения в GitHub:**
   ```bash
   cd /Users/arhan/telegram-miniapp
   git add public/index.html bot/index.js
   git commit -m "Убрать Заботу из приложения; обновить версию ссылки v=5"
   git push origin main
   ```

3. **Подождать 1–2 минуты** — GitHub Actions задеплоит новую версию из `public/` на GitHub Pages.

4. **Перезапустить бота** (если менялся `bot/index.js` с новой версией ссылки `?v=5`), чтобы бот подставил в кнопку меню новый URL и Telegram не подтянул старую из кэша.

5. **В Telegram:** полностью закрыть чат с ботом и открыть снова, нажать «Открыть приложение». Должна загрузиться новая версия (без «Забота»).

---

## Кратко

| Где меняешь | Что происходит в боте |
|-------------|------------------------|
| Только локально (не push) | В боте ничего не меняется |
| Push в `main` (папка `public/`) | Через 1–2 мин на сайте и в боте — новая версия |
| Смена `?v=4` на `?v=5` в боте + push | Меньше шансов, что Telegram покажет кэш |

Если после push и перезапуска бота кнопка «Забота» всё ещё видна — открой приложение по прямой ссылке в браузере (с `?v=5`) и проверь: если там уже без «Забота», значит Telegram кэширует — закрой приложение и открой заново из чата с ботом.
