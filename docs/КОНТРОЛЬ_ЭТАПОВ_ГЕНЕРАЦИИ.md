# –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–µ—Å–Ω–∏

–ß—Ç–æ–±—ã –ø–æ–Ω—è—Ç—å, –Ω–∞ –∫–∞–∫–æ–º —ç—Ç–∞–ø–µ –ø–µ—Å–Ω—è ¬´—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è¬ª –∏–ª–∏ –Ω–µ –¥–æ–¥–µ–ª—ã–≤–∞–µ—Ç—Å—è (DeepSeek –∏–ª–∏ Suno), –≤ –∫–æ–¥–µ –∏ –≤ –ë–î –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç.

## –ê–¥–º–∏–Ω-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (—É–¥–æ–±–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)

**–û—Å–Ω–æ–≤–Ω–æ–π URL –∞–¥–º–∏–Ω–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):** [https://telegram-miniapp-ar09.onrender.com/admin-simple](https://telegram-miniapp-ar09.onrender.com/admin-simple)  
**–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≤–µ—Ä—Å–∏—è:** [https://telegram-miniapp-ar09.onrender.com/admin](https://telegram-miniapp-ar09.onrender.com/admin)

–û—Ç–∫—É–¥–∞ –æ—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É:
- **–ò–∑ –±–æ—Ç–∞:** –Ω–∞–ø–∏—à–∏ –∫–æ–º–∞–Ω–¥—É `/admin` ‚Äî –±–æ—Ç –ø—Ä–∏—à–ª—ë—Ç —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫ –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É (–Ω–∞–∂–º–∏ –Ω–∞ —Å—Å—ã–ª–∫—É).
- **–ò–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:** –æ—Ç–∫—Ä–æ–π Mini App –∏–∑ —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º ‚Äî –µ—Å–ª–∏ —Ç–≤–æ–π Telegram ID –≤ `ADMIN_TELEGRAM_IDS`, –Ω–∞ –≥–ª–∞–≤–Ω–æ–π –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ ¬´üëë –ê–¥–º–∏–Ω–∫–∞¬ª (–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/admin-simple`).
- **–ò–∑ –±—Ä–∞—É–∑–µ—Ä–∞:** –æ—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É –≤—ã—à–µ; –¥–ª—è –≤—Ö–æ–¥–∞ –Ω—É–∂–µ–Ω —Ç–æ–∫–µ–Ω (—Å–º. –Ω–∏–∂–µ).

–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å –∞–¥–º–∏–Ω–∫—É –∏ –≤–∏–¥–∏—à—å —Ç–æ–ª—å–∫–æ –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω –∏–ª–∏ –ø–∞—Ä—É —Å—Ç—Ä–æ–∫ ‚Äî –∑–Ω–∞—á–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å, –Ω–æ –¥–æ—Å—Ç—É–ø –µ—â—ë –Ω–µ –ø—Ä–æ–π–¥–µ–Ω. –ù–∏–∂–µ –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ –≤—Ö–æ–¥–∞.

### –ö–∞–∫ –æ—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∫—É –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (Render, –ø–æ—à–∞–≥–æ–≤–æ)

1. –ó–∞–π–¥–∏ –≤ **Render**: [dashboard.render.com](https://dashboard.render.com) ‚Üí –≤—ã–±–µ—Ä–∏ —Å–µ—Ä–≤–∏—Å —Å –±–æ—Ç–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä `telegram-miniapp-ar09`).
2. –°–ª–µ–≤–∞ –æ—Ç–∫—Ä–æ–π **Environment** (–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è).
3. –ù–∞–∂–º–∏ **Add Environment Variable**. –ò–º—è: `ADMIN_SECRET`, –∑–Ω–∞—á–µ–Ω–∏–µ: –ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞-–ø–∞—Ä–æ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä `–º–æ–π_–∞–¥–º–∏–Ω_2025`). –°–æ—Ö—Ä–∞–Ω–∏.
4. –î–æ–∂–¥–∏—Å—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ (–∏–ª–∏ –Ω–∞–∂–º–∏ **Manual Deploy** ‚Üí **Deploy latest commit**).
5. –í –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫—Ä–æ–π —Å—Å—ã–ª–∫—É (–ø–æ–¥—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω –∏–∑ —à–∞–≥–∞ 3):
   ```
   https://telegram-miniapp-ar09.onrender.com/admin-simple?token=–º–æ–π_–∞–¥–º–∏–Ω_2025
   ```
   –ò–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è: `https://telegram-miniapp-ar09.onrender.com/admin?token=–º–æ–π_–∞–¥–º–∏–Ω_2025`
6. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∞–¥–º–∏–Ω–∫–∞ (–∫–∞—Ä—Ç–æ—á–∫–∏ –∑–∞—è–≤–æ–∫ –Ω–∞ admin-simple –∏–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞ admin). –ï—Å–ª–∏ –≤–∏–¥–∏—à—å ¬´–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω¬ª / ¬´–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏¬ª ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `ADMIN_SECRET` –≤ Render —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å–æ —Å–ª–æ–≤–æ–º –ø–æ—Å–ª–µ `?token=` –≤ —Å—Å—ã–ª–∫–µ.

**–í–∞—Ä–∏–∞–Ω—Ç –±–µ–∑ —Å—Å—ã–ª–∫–∏:** –æ—Ç–∫—Ä–æ–π `https://...onrender.com/admin-simple` (–∏–ª–∏ `/admin`), –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤–≤–µ–¥–∏ —Ç–æ–∫–µ–Ω –≤ —Ñ–æ—Ä–º—É –∏ –Ω–∞–∂–º–∏ ¬´–í–æ–π—Ç–∏¬ª.

### –í—Ö–æ–¥ –∏–∑ Telegram

–û—Ç–∫—Ä–æ–π —Ç—É –∂–µ —Å—Å—ã–ª–∫—É `/admin` –∏–∑ Telegram (–∏–ª–∏ –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞, –±—É–¥—É—á–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–º –≤ Telegram). –ï—Å–ª–∏ —Ç–≤–æ–π Telegram ID —É–∫–∞–∑–∞–Ω –≤ `ADMIN_TELEGRAM_IDS` –≤ Render, –¥–æ—Å—Ç—É–ø –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.

**–ß—Ç–æ –µ—Å—Ç—å –≤ –∞–¥–º–∏–Ω–∫–µ:**
- –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫: –¥–∞—Ç–∞, –∏–º—è, —Ä–µ–∂–∏–º, —Å—Ç–∞—Ç—É—Å, **–æ–±—Ä–µ–∑–∫–∞ LLM** (–¥–∞/–Ω–µ—Ç), —Å—Å—ã–ª–∫–∞ –Ω–∞ –∞—É–¥–∏–æ.
- –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ ‚Üí –¥–µ—Ç–∞–ª–∏ –æ–¥–Ω–æ–π –∑–∞—è–≤–∫–∏ –≤–æ –≤–∫–ª–∞–¥–∫–∞—Ö:
  - **–°—ã—Ä–æ–π –æ—Ç–≤–µ—Ç DeepSeek** ‚Äî –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞ (–µ—Å–ª–∏ –æ–±—Ä–µ–∑–∞–Ω ‚Äî –≤–∏–¥–Ω–æ –ø–æ –∫–æ–Ω—Ü—É).
  - **–õ–∏—Ä–∏–∫–∞ –≤ Suno** ‚Äî —Ç–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ Suno (—Å—Ä–∞–≤–Ω–∏ —Å —Ç–µ–º, —á—Ç–æ —Å–ª—ã—à–∏—à—å –≤ —Ç—Ä–µ–∫–µ).
  - **Style –≤ Suno** ‚Äî —Å—Ç—Ä–æ–∫–∞ —Å—Ç–∏–ª—è.
  - **–ù–∞–∑–≤–∞–Ω–∏–µ**, **–ê–Ω–∞–ª–∏–∑**, **–ê—É–¥–∏–æ** (—Å—Å—ã–ª–∫–∞).

## –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `track_requests`)

| –ü–æ–ª–µ | –ß—Ç–æ —ç—Ç–æ | –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä—è—Ç—å |
|------|---------|----------------|
| **deepseek_response** | –ü–æ–ª–Ω—ã–π —Å—ã—Ä–æ–π –æ—Ç–≤–µ—Ç DeepSeek (–¥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞) | –ï—Å–ª–∏ –≤ –∫–æ–Ω—Ü–µ –æ–±—Ä—ã–≤ –Ω–∞ –ø–æ–ª—É—Å–ª–æ–≤–µ –∏–ª–∏ –Ω–µ—Ç –±–ª–æ–∫–∞ —Å –ª–∏—Ä–∏–∫–æ–π ‚Äî –ø—Ä–æ–±–ª–µ–º–∞ –Ω–∞ —ç—Ç–∞–ø–µ DeepSeek |
| **llm_truncated** | `true`, –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –æ–±—Ä–µ–∑–∞–Ω –ø–æ –ª–∏–º–∏—Ç—É —Ç–æ–∫–µ–Ω–æ–≤ | –ï—Å–ª–∏ `true` ‚Äî –ø–µ—Å–Ω—è –º–æ–≥–ª–∞ –æ—Å—Ç–∞—Ç—å—Å—è –Ω–µ–¥–æ–¥–µ–ª–∞–Ω–Ω–æ–π –≤ DeepSeek (–Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å `max_tokens` –∏–ª–∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç) |
| **lyrics** | –¢–æ—á–Ω—ã–π —Ç–µ–∫—Å—Ç –ª–∏—Ä–∏–∫–∏, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –≤ Suno | –°—Ä–∞–≤–Ω–∏ —Å —Ç–µ–º, —á—Ç–æ —Å–ª—ã—à–∏—à—å –≤ —Ç—Ä–µ–∫–µ: –µ—Å–ª–∏ –≤ –∞—É–¥–∏–æ –¥—Ä—É–≥–∏–µ —Å–ª–æ–≤–∞ ‚Äî –º–µ–Ω—è–µ—Ç —É–∂–µ Suno |
| **title** | –ù–∞–∑–≤–∞–Ω–∏–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –≤ Suno | –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ |
| **suno_style_sent** | –¢–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ `style`, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤ Suno | –î–ª—è —Å–≤–µ—Ä–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∑–≤—É—á–∞–Ω–∏—è |
| **detailed_analysis** | –ò—Ç–æ–≥–æ–≤—ã–π –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç (–∞–Ω–∞–ª–∏–∑ + –ª–∏—Ä–∏–∫–∞ –≤ –æ–¥–Ω–æ–º —Ç–µ–∫—Å—Ç–µ) | –¢–æ –∂–µ, —á—Ç–æ –≤ –ª–æ–≥–∞—Ö; –º–æ–∂–Ω–æ —Å–≤–µ—Ä—è—Ç—å —Å `deepseek_response` |

## –õ–æ–≥–∏ –≤–æ—Ä–∫–µ—Ä–∞ (–ø–æ —à–∞–≥–∞–º)

- **–≠–¢–ê–ü 1 ‚Äî DeepSeek:** –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞, `finish_reason`, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä–µ–∑–∫–µ (`finish_reason=length`).
- **–≠–¢–ê–ü 2 ‚Äî –ü–∞—Ä—Å–∏–Ω–≥:** –¥–ª–∏–Ω–∞ –ª–∏—Ä–∏–∫–∏, —á–∏—Å–ª–æ —Å—Ç—Ä–æ–∫, title, –¥–ª–∏–Ω–∞ style.
- **–≠–¢–ê–ü 3 ‚Äî Suno:** –¥–ª–∏–Ω–∞ –ª–∏—Ä–∏–∫–∏ –∏ –ø–µ—Ä–≤—ã–µ 120 —Å–∏–º–≤–æ–ª–æ–≤ style, –∑–∞—Ç–µ–º —Å—Å—ã–ª–∫–∞ –Ω–∞ –≥–æ—Ç–æ–≤—ã–π –∞—É–¥–∏–æ.

## –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å ¬´–≥–¥–µ –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å¬ª

1. **–ü–µ—Å–Ω—è –Ω–µ–¥–æ–¥–µ–ª–∞–Ω–∞ (–æ–±—Ä—ã–≤, –Ω–µ—Ç –ø—Ä–∏–ø–µ–≤–∞ –∏ —Ç.–ø.):**
   - –í Supabase –æ—Ç–∫—Ä–æ–π –∑–∞—è–≤–∫—É ‚Üí –ø–æ—Å–º–æ—Ç—Ä–∏ **llm_truncated**. –ï—Å–ª–∏ `true` ‚Äî –ø—Ä–∏—á–∏–Ω–∞ –≤ –ª–∏–º–∏—Ç–µ DeepSeek.
   - –û—Ç–∫—Ä–æ–π **deepseek_response** ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏, –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—Å—Ç –ø–æ–ª–Ω–æ–π –ª–∏—Ä–∏–∫–æ–π –∏–ª–∏ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è. –ï—Å–ª–∏ –æ–±—Ä—ã–≤ ‚Äî —É–≤–µ–ª–∏—á–∏—Ç—å `max_tokens` –≤ –∞–¥–º–∏–Ω–∫–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 8192‚Äì12000 –¥–ª—è deepseek-coder) –∏–ª–∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç.

2. **–í –ø–µ—Å–Ω–µ –¥—Ä—É–≥–∏–µ —Å–ª–æ–≤–∞, —á–µ–º –≤ –ª–∏—Ä–∏–∫–µ:**
   - –°—Ä–∞–≤–Ω–∏ –ø–æ–ª–µ **lyrics** –≤ –ë–î —Å —Ç–µ–º, —á—Ç–æ –ø–æ—ë—Ç—Å—è –≤ —Ç—Ä–µ–∫–µ. –ï—Å–ª–∏ –≤ –ë–î –æ–¥–Ω–æ, –≤ –∞—É–¥–∏–æ –¥—Ä—É–≥–æ–µ ‚Äî –º–µ–Ω—è–µ—Ç Suno (–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–æ–≤–Ω–æ —Ç–æ, —á—Ç–æ –≤ **lyrics**).

3. **–°—Ç–∏–ª—å/–∑–≤—É—á–∞–Ω–∏–µ –Ω–µ —Ç–æ:**
   - –ü–æ—Å–º–æ—Ç—Ä–∏ **suno_style_sent** ‚Äî –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ —É—Ö–æ–¥–∏—Ç –≤ Suno. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø—Ä–∞–≤–∏—Ç—å ‚Äî –ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–º–ø—Ç (—á—Ç–æ–±—ã –≤ –æ—Ç–≤–µ—Ç–µ LLM –±—ã–ª –Ω—É–∂–Ω—ã–π `[style:]` / `[vocal:]` / `[mood:]`).

## –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î

–ï—Å–ª–∏ –∫–æ–ª–æ–Ω–æ–∫ –µ—â—ë –Ω–µ—Ç, –≤—ã–ø–æ–ª–Ω–∏ –≤ Supabase SQL Editor –±–ª–æ–∫ –∏–∑ `bot/RUN_IN_SUPABASE.sql` (—Ä–∞–∑–¥–µ–ª ¬´6. –ê—É–¥–∏—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏¬ª):

```sql
alter table track_requests add column if not exists llm_truncated boolean default false;
alter table track_requests add column if not exists suno_style_sent text;
comment on column track_requests.deepseek_response is '–ü–æ–ª–Ω—ã–π —Å—ã—Ä–æ–π –æ—Ç–≤–µ—Ç DeepSeek (–¥–æ –ø–∞—Ä—Å–∏–Ω–≥–∞)';
comment on column track_requests.llm_truncated is 'true –µ—Å–ª–∏ –æ—Ç–≤–µ—Ç –æ–±—Ä–µ–∑–∞–Ω –ø–æ max_tokens';
comment on column track_requests.suno_style_sent is '–¢–æ—á–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ style, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è –≤ Suno';
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø–æ –∫–∞–∂–¥–æ–π –∑–∞—è–≤–∫–µ –º–æ–∂–Ω–æ –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å: —á—Ç–æ –≤–µ—Ä–Ω—É–ª DeepSeek, —á—Ç–æ —É—à–ª–æ –≤ Suno –∏ –æ–±—Ä–µ–∑–∞–ª—Å—è –ª–∏ –æ—Ç–≤–µ—Ç.
